<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" href="./favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href="./style.css">
    <title>Turn-Based Battle Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html, body {
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: #000000;
        }
        
        #root, #app, #game-container {
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            position: fixed;
            top: 0;
            left: 0;
        }
        
        canvas {
            display: block;
            width: 100vw !important;
            height: 100vh !important;
            position: fixed;
            top: 0;
            left: 0;
            image-rendering: optimizeQuality;
            image-rendering: -webkit-optimize-contrast;
        }
        
        /* Font preloader */
        .font-preloader {
            position: absolute;
            top: -100px;
            left: -100px;
            visibility: hidden;
            font-family: 'THEBOLDFONT';
        }
        
        /* Orientation overlay styles */
        #orientation-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background-color: rgba(0, 0, 0, 0.9);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 1.5em;
            font-family: Arial, sans-serif;
            z-index: 1000;
            display: none;
            transition: opacity 0.3s ease;
        }
        
        #orientation-overlay svg {
            margin-bottom: 20px;
            animation: rotate 2s infinite ease-in-out;
        }
        
        @keyframes rotate {
            0% { transform: rotate(0deg); }
            25% { transform: rotate(-90deg); }
            75% { transform: rotate(-90deg); }
            100% { transform: rotate(0deg); }
        }
    </style>
  <script type="module" crossorigin src="./assets/index-DBR_0ED0.js"></script>
  <link rel="modulepreload" crossorigin href="./assets/phaser-DZmpgkch.js">
  <link rel="stylesheet" crossorigin href="./assets/index-DUtotluT.css">
</head>

<body>
    <!-- Font preloader element -->
    <div class="font-preloader">.</div>
    
    <!-- Orientation overlay for mobile devices -->
    <div id="orientation-overlay">
        <svg width="80" height="80" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M4 20H20C21.1 20 22 19.1 22 18V6C22 4.9 21.1 4 20 4H4C2.9 4 2 4.9 2 6V18C2 19.1 2.9 20 4 20ZM4 6H20V18H4V6Z" fill="white"/>
            <path d="M9.41 16.59L7.99 18L2 12L7.99 6L9.41 7.41L4.83 12L9.41 16.59Z" fill="white"/>
            <path d="M14.59 16.59L19.17 12L14.59 7.41L16.01 6L22 12L16.01 18L14.59 16.59Z" fill="white"/>
        </svg>
        <p>Please rotate your device</p>
        <p>This game is best played in landscape mode</p>
    </div>
    
    <div id="root"></div>
    
    <!-- Font loader script -->
    <script>
        // Force font loading before game starts
        document.fonts.ready.then(() => {
            console.log('All fonts loaded and ready to use!');
        });
        
        // Check orientation on load and resize
        function checkOrientation() {
            const orientationOverlay = document.getElementById('orientation-overlay');
            // Use window dimensions instead of media query for more reliable detection
            const isPortrait = window.innerHeight > window.innerWidth;
            
            if (isPortrait && isMobileDevice()) {
                orientationOverlay.style.display = 'flex';
                orientationOverlay.style.opacity = '1';
                // Force a reflow to ensure the game canvas updates properly
                document.body.style.height = '100%';
                setTimeout(() => {
                    document.body.style.height = '100vh';
                }, 50);
            } else {
                orientationOverlay.style.opacity = '0';
                setTimeout(() => {
                    orientationOverlay.style.display = 'none';
                }, 300);
            }
        }
        
        // Helper function to detect mobile devices
        function isMobileDevice() {
            return (typeof window.orientation !== "undefined") || 
                   (navigator.userAgent.indexOf('IEMobile') !== -1) ||
                   (navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|Windows Phone)/i));
        }
        
        // Add event listeners
        window.addEventListener('load', checkOrientation);
        window.addEventListener('resize', checkOrientation);
        window.addEventListener('orientationchange', function() {
            // Small delay to ensure the browser has completed the orientation change
            setTimeout(checkOrientation, 100);
        });
        
        // Check orientation every second to ensure it's always correct
        setInterval(checkOrientation, 1000);
    </script>
</body>
</html>
